<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VB-MAPP ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React ë° ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ - ìˆœì„œê°€ ì¤‘ìš”! -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone@7/babel.min.js"></script>
    
    <!-- SheetJS for Excel export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- Lucide Icons (React ë²„ì „) -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Lucide ì•„ì´ì½˜ë“¤ (ë‹¨ìˆœí™”)
        const User = () => React.createElement('div', { className: 'w-6 h-6 bg-gray-600 rounded-full' });
        const Target = ({ className, size }) => React.createElement('div', { 
            className: `${className} ${size ? `w-${size/4} h-${size/4}` : 'w-8 h-8'} bg-blue-600 rounded flex items-center justify-center text-white font-bold text-xs` 
        }, 'VB');
        const Users = ({ className }) => React.createElement('div', { className: `${className} w-4 h-4 bg-blue-600 rounded` });
        const BarChart3 = ({ className }) => React.createElement('div', { className: `${className} w-4 h-4 bg-blue-600 rounded` });
        const Search = ({ className, size }) => React.createElement('div', { className: `${className} w-5 h-5 bg-gray-400 rounded` });
        const Check = ({ size }) => React.createElement('div', { className: `w-4 h-4 bg-green-500 rounded flex items-center justify-center text-white text-xs font-bold` }, 'âœ“');
        const Pause = ({ size }) => React.createElement('div', { className: `w-4 h-4 bg-orange-500 rounded flex items-center justify-center text-white text-xs font-bold` }, '||');
        const Play = ({ size }) => React.createElement('div', { className: `w-4 h-4 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold` }, 'â–¶');
        const Download = ({ className }) => React.createElement('div', { className: `${className} w-4 h-4 bg-green-600 rounded flex items-center justify-center text-white text-xs font-bold` }, 'â†“');
        const ChevronDown = ({ className }) => React.createElement('div', { className: `${className} w-4 h-4 bg-gray-500 rounded flex items-center justify-center text-white text-xs font-bold` }, 'â–¼');
        const ChevronUp = ({ className }) => React.createElement('div', { className: `${className} w-4 h-4 bg-gray-500 rounded flex items-center justify-center text-white text-xs font-bold` }, 'â–²');
        const Plus = ({ className }) => React.createElement('div', { className: `${className} w-4 h-4 bg-blue-500 rounded flex items-center justify-center text-white text-xs font-bold` }, '+');
        const Upload = ({ className }) => React.createElement('div', { className: `${className} w-4 h-4 bg-purple-600 rounded flex items-center justify-center text-white text-xs font-bold` }, 'â†‘');

        // 30ê°œ VB-MAPP í…ŒìŠ¤íŠ¸ ë°ì´í„°
        const sampleGoals = [
          { id: 'VB001', curriculum: 'VB-MAPP', area: 'ë§¨ë“œ', itemNumber: '1-a*', content: 'ê´€ì‹¬ í˜¹ì€ ë‹¤ë¥¸ ê°•í™”ì œì˜ ë§¨ë“œì˜ í‘œí˜„ìœ¼ë¡œ 2ì°¨ë¡€ ëˆˆë§žì¶¤ì„ ì œê³µí•œë‹¤(ì‹œì„ ì„ ì˜®ê¸´ë‹¤). (ê´€)' },
          { id: 'VB002', curriculum: 'VB-MAPP', area: 'ë§¨ë“œ', itemNumber: '1-b*', content: 'MOì˜ í†µì œë¡œ ì„ í˜¸ ì‚¬ë¬¼ì— 2ì°¨ë¡€ ì ‘ê·¼í•œë‹¤. (ê´€)' },
          { id: 'VB003', curriculum: 'VB-MAPP', area: 'ë§¨ë“œ', itemNumber: '1-c*', content: 'ì„ í˜¸ ì‚¬ë¬¼ì„ ì–»ìœ¼ë ¤ê³  ë‹¤ë¥¸ ì‚¬ëžŒ ì†ì„ 2ì°¨ë¡€ ì´ëˆë‹¤. (ê´€)' },
          { id: 'VB004', curriculum: 'VB-MAPP', area: 'ë§¨ë“œ', itemNumber: '1-d*', content: 'ê°•í™”ì œë¥¼ ì–»ìœ¼ë ¤ê³  2ì°¨ë¡€ í¬ì¸íŠ¸ í•˜ê±°ë‚˜ í˜¹ì€ ì†ì§“ì„ í•œë‹¤. (ê´€)' },
          { id: 'VB005', curriculum: 'VB-MAPP', area: 'ë§¨ë“œ', itemNumber: '1-M', content: '1. ì‹ ì²´ì  ì´‰êµ¬ ì—†ì´(ì—ì½”ìµ ì´‰êµ¬, ëª¨ë°©ì´‰êµ¬ ì†ì§“ ì´‰êµ¬ ë“±ì€ í—ˆìš©) 2ê°œì˜ ë‹¨ì–´, ìˆ˜í™” í˜¹ì€ ê·¸ë¦¼ì„ íƒì˜ ë°˜ì‘í˜•íƒœë¥¼ ì‚¬ìš©í•˜ì—¬ ë§¨ë“œ í•œë‹¤(ì˜ˆ: ê³¼ìž, ì±…) (ì–‘)' },
          { id: 'VB006', curriculum: 'VB-MAPP', area: 'ë§¨ë“œ', itemNumber: '2-a*', content: '2ê°€ì§€ ê°•í™”ì œë¥¼ ì–»ìœ¼ë ¤ê³  ê°ê°2ì°¨ë¡€ í¬ì¸íŠ¸ í•œë‹¤.(ì–‘)' },
          { id: 'VB007', curriculum: 'VB-MAPP', area: 'ë§¨ë“œ', itemNumber: '2-b*', content: 'ê°•í™”ì œë¥¼ ì œì‹œí•  ë•Œ 2ì°¨ë¡€ "ì˜ˆ/ì•„ë‹ˆì˜¤"ë¥¼ ë§í•˜ê±°ë‚˜ ê³ ê°œë¥¼ ë„ë•ì¸ë‹¤.(ì¡°ê¸° ëª©í‘œê°€ ì•„ë‹ˆë‹¤).(ì–‘)' },
          { id: 'VB008', curriculum: 'VB-MAPP', area: 'ë§¨ë“œ', itemNumber: '2-c', content: 'ì—ì½”ìµ ì´‰êµ¬ ì—†ì´(ì–¸ì–´ í˜¹ì€ ì‚¬ë¬¼ ì´‰êµ¬ëŠ” í—ˆìš©)2ê°€ì§€ ë§¨ë“œë¥¼ í‘œí˜„í•œë‹¤.(ì–‘)' },
          { id: 'VB009', curriculum: 'VB-MAPP', area: 'íƒíŠ¸', itemNumber: '1-a', content: 'ì–¸ì–´ ì´‰êµ¬ì™€ MOê°€ ìžˆì„ ë•Œ, ìµìˆ™í•œ ì‚¬ëžŒ, ì• ì™„ë™ë¬¼ í˜¹ì€ ë¬¼í’ˆì„ í•œ ì°¨ë¡€ íƒíŠ¸ í•œë‹¤(ì˜ˆ: "ì—„ë§ˆ").(ì–‘)' },
          { id: 'VB010', curriculum: 'VB-MAPP', area: 'íƒíŠ¸', itemNumber: '1-b', content: 'ì—ì½”ìµ ë˜ëŠ” ëª¨ë°©ì´‰êµ¬ë¥¼ ë°›ê³  2ê°œì˜ ëŒ€ìƒë¬¼ì„ íƒíŠ¸í•œë‹¤. (e.g., ì‚¬ëžŒ, ì• ì™„ë™ë¬¼ë“¤, ìºë¦­í„°ë“¤ ë˜ëŠ” ì¢‹ì•„í•˜ëŠ” ì‚¬ë¬¼ë“¤) (ì§)' },
          { id: 'VB011', curriculum: 'VB-MAPP', area: 'íƒíŠ¸', itemNumber: '2-a', content: '4ê°œì˜ ë¹„ìŠ·í•˜ì§€ ì•Šì€ í•­ëª©ì„ íƒíŠ¸í•œë‹¤(ì˜ˆë¥¼ ë“¤ì–´ ì‹ ë°œ, ëª¨ìž, ì»µ, ìžë™ì°¨).(ì–‘)' },
          { id: 'VB012', curriculum: 'VB-MAPP', area: 'íƒíŠ¸', itemNumber: '2-b', content: 'ì—ì½”ìµ ì´‰êµ¬ ì—†ì´ 4ê°œ í•­ëª©ì„ íƒíŠ¸í•œë‹¤.(ì–‘)' },
          { id: 'VB013', curriculum: 'VB-MAPP', area: 'íƒíŠ¸', itemNumber: '3-a', content: '10ê°œì˜ í•­ëª©ì„ íƒíŠ¸í•œë‹¤.(ì–‘)' },
          { id: 'VB014', curriculum: 'VB-MAPP', area: 'ì²­ìžë°˜ì‘', itemNumber: '1-a', content: 'ê°„ë‹¨í•œ ë™ìž‘ ëª¨ë°©ì„ 2ì°¨ë¡€ ë³´ì—¬ì¤€ë‹¤(ì˜ˆ: ë°•ìˆ˜ì¹˜ê¸°, íŒ” í”ë“¤ê¸°).(ì–‘)' },
          { id: 'VB015', curriculum: 'VB-MAPP', area: 'ì²­ìžë°˜ì‘', itemNumber: '1-b', content: 'ì–¸ì–´ì§€ì‹œì— ë”°ë¼ ê°„ë‹¨í•œ ë™ìž‘ì„ 2ì°¨ë¡€ ì‹¤í–‰í•œë‹¤(ì˜ˆ: "ì•‰ì•„", "ì´ë¦¬ì™€").(ì–‘)' },
          { id: 'VB016', curriculum: 'VB-MAPP', area: 'ì²­ìžë°˜ì‘', itemNumber: '2-a', content: '4ê°œì˜ ë‹¤ë¥¸ ë™ìž‘ ëª¨ë°©ì„ ë³´ì—¬ì¤€ë‹¤.(ì–‘)' },
          { id: 'VB017', curriculum: 'VB-MAPP', area: 'ì²­ìžë°˜ì‘', itemNumber: '2-b', content: 'ì–¸ì–´ì§€ì‹œì— ë”°ë¼ 4ê°œì˜ ë‹¤ë¥¸ ë™ìž‘ì„ ì‹¤í–‰í•œë‹¤.(ì–‘)' },
          { id: 'VB018', curriculum: 'VB-MAPP', area: 'ì‹œê°ì ì¸ì‹/ë§¤ì¹­', itemNumber: '1-a', content: 'ë™ì¼í•œ ë¬¼ê±´ 3ê°œë¥¼ ë§¤ì¹­í•œë‹¤.(ì–‘)' },
          { id: 'VB019', curriculum: 'VB-MAPP', area: 'ì‹œê°ì ì¸ì‹/ë§¤ì¹­', itemNumber: '1-b', content: 'ê·¸ë¦¼ê³¼ ë¬¼ê±´ì„ ë§¤ì¹­í•œë‹¤(ì˜ˆ: ì‹¤ì œ ì‹ ë°œê³¼ ì‹ ë°œ ê·¸ë¦¼).(ì–‘)' },
          { id: 'VB020', curriculum: 'VB-MAPP', area: 'ì‹œê°ì ì¸ì‹/ë§¤ì¹­', itemNumber: '2-a', content: '6ê°œì˜ ë™ì¼í•œ ë¬¼ê±´ì„ ë§¤ì¹­í•œë‹¤.(ì–‘)' },
          { id: 'VB021', curriculum: 'VB-MAPP', area: 'ë…ë¦½ì ë†€ì´', itemNumber: '1-a', content: '2ë¶„ ë™ì•ˆ í˜¼ìžì„œ ë†€ì´ í™œë™ì— ì°¸ì—¬í•œë‹¤.(ì–‘)' },
          { id: 'VB022', curriculum: 'VB-MAPP', area: 'ë…ë¦½ì ë†€ì´', itemNumber: '1-b', content: 'ì™„êµ¬ë‚˜ ë†€ì´ê¸°êµ¬ë¥¼ ì ì ˆí•˜ê²Œ ì¡°ìž‘í•œë‹¤.(ì–‘)' },
          { id: 'VB023', curriculum: 'VB-MAPP', area: 'ì‚¬íšŒì ë†€ì´/ìƒí˜¸ìž‘ìš©', itemNumber: '1-a', content: 'ë˜ëž˜ì™€ í•¨ê»˜ 2ë¶„ ë™ì•ˆ ë†€ì´ì— ì°¸ì—¬í•œë‹¤.(ì–‘)' },
          { id: 'VB024', curriculum: 'VB-MAPP', area: 'ì‚¬íšŒì ë†€ì´/ìƒí˜¸ìž‘ìš©', itemNumber: '1-b', content: 'ì„±ì¸ê³¼ì˜ ì‚¬íšŒì  ìƒí˜¸ìž‘ìš©ì— ì°¸ì—¬í•œë‹¤.(ì–‘)' },
          { id: 'VB025', curriculum: 'VB-MAPP', area: 'ëª¨í„°ëª¨ë°©', itemNumber: '1-a', content: '8ê°œì˜ ì¡°ë™ìž‘ ë™ìž‘ì„ ëª¨ë°©í•œë‹¤.(ì–‘)' },
          { id: 'VB026', curriculum: 'VB-MAPP', area: 'ëª¨í„°ëª¨ë°©', itemNumber: '1-b', content: 'ë¬¼ê±´ì„ ì´ìš©í•œ ë™ìž‘ì„ ëª¨ë°©í•œë‹¤.(ì–‘)' },
          { id: 'VB027', curriculum: 'VB-MAPP', area: 'ì—ì½”ìµ', itemNumber: '1-a', content: 'ì•„ë¬´ ë‹¨ì–´ë‚˜ 2ì°¨ë¡€ ì—ì½”ìµ ë°˜ì‘ì„ ë³´ì¸ë‹¤.(ì–‘)' },
          { id: 'VB028', curriculum: 'VB-MAPP', area: 'ì—ì½”ìµ', itemNumber: '1-b', content: '5ê°œì˜ 1ìŒì ˆ ë‹¨ì–´ë¥¼ ì—ì½”ìµí•œë‹¤.(ì–‘)' },
          { id: 'VB029', curriculum: 'VB-MAPP', area: 'ìžë°œì ìŒì„±í–‰ë™', itemNumber: '1-a', content: '15ë¶„ ë™ì•ˆ ìµœì†Œ 5ê°œì˜ ë‹¤ë¥¸ ìŒì„±ì„ ìžë°œì ìœ¼ë¡œ ë‚¸ë‹¤.(ì–‘)' },
          { id: 'VB030', curriculum: 'VB-MAPP', area: 'ìžë°œì ìŒì„±í–‰ë™', itemNumber: '1-b', content: 'í•˜ë£¨ ì¢…ì¼ ë‹¤ì–‘í•œ ìŒì„±ì„ ìžë°œì ìœ¼ë¡œ ë‚¸ë‹¤.(ì–‘)' }
        ];

        const sampleChildren = [
          { id: 'C001', name: 'ì°¨ëª…ì§„', gender: 'ì—¬', birthDate: '2019-05-10', therapistId: 'T01', registrationDate: '2024-01-10', memo: '' },
          { id: 'C002', name: 'ì°¨ê±´í¬', gender: 'ë‚¨', birthDate: '2020-03-14', therapistId: 'T02', registrationDate: '2024-01-15', memo: '' },
          { id: 'C003', name: 'ë°•ì„œì§„', gender: 'ë‚¨', birthDate: '2018-11-02', therapistId: 'T03', registrationDate: '2024-01-15', memo: '' }
        ];

        const sampleTherapists = [
          { id: 'T01', name: 'ê¹€í•´ë¯¸', email: 'happy2j3@gmail.com', registrationDate: '2021-09-21' },
          { id: 'T02', name: 'ê³ ë¯¼ì§€', email: 'minjigo@simplestepaba.com', registrationDate: '2024-03-01' },
          { id: 'T03', name: 'ì†ì§„ì„ ', email: 'jinsunson@simplestepaba.com', registrationDate: '2021-09-21' }
        ];

        const sampleActivities = [
          { 
            id: 'G001', 
            childId: 'C001', 
            goalId: 'VB001', 
            startDate: '2024-01-15', 
            completedDate: '2024-01-25', 
            status: 'ì™„ë£Œ', 
            memo: 'ìž˜ ë”°ë¼í•¨',
            subItems: []
          },
          { 
            id: 'G002', 
            childId: 'C001', 
            goalId: 'VB002', 
            startDate: '2024-01-20', 
            completedDate: '2024-02-10', 
            status: 'ì™„ë£Œ', 
            memo: '',
            subItems: [
              { id: 'SI001', name: 'ì¢‹ì•„í•˜ëŠ” ìž¥ë‚œê°', completed: true },
              { id: 'SI002', name: 'ê°„ì‹', completed: true }
            ]
          },
          { 
            id: 'G003', 
            childId: 'C001', 
            goalId: 'VB009', 
            startDate: '2024-01-25', 
            completedDate: '2024-02-15', 
            status: 'ì™„ë£Œ', 
            memo: '',
            subItems: [
              { id: 'SI003', name: 'ì—„ë§ˆ', completed: true },
              { id: 'SI004', name: 'ê³µ', completed: true }
            ]
          },
          { 
            id: 'G004', 
            childId: 'C001', 
            goalId: 'VB010', 
            startDate: '2024-02-01', 
            completedDate: '', 
            status: 'ì§„í–‰ì¤‘', 
            memo: '',
            subItems: []
          },
          { 
            id: 'G005', 
            childId: 'C001', 
            goalId: 'VB014', 
            startDate: '2024-02-05', 
            completedDate: '2024-02-20', 
            status: 'ì™„ë£Œ', 
            memo: '',
            subItems: []
          },
          { 
            id: 'G006', 
            childId: 'C001', 
            goalId: 'VB015', 
            startDate: '2024-02-10', 
            completedDate: '', 
            status: 'ì§„í–‰ì¤‘', 
            memo: '',
            subItems: []
          },
          { 
            id: 'G007', 
            childId: 'C001', 
            goalId: 'VB018', 
            startDate: '2024-02-15', 
            completedDate: '2024-03-01', 
            status: 'ì™„ë£Œ', 
            memo: '',
            subItems: []
          },
          { 
            id: 'G008', 
            childId: 'C001', 
            goalId: 'VB021', 
            startDate: '2024-02-20', 
            completedDate: '', 
            status: 'ì§„í–‰ì¤‘', 
            memo: '',
            subItems: []
          }
        ];

        const VBMAPPApp = () => {
          const [currentTab, setCurrentTab] = useState('dashboard');
          const [selectedChild, setSelectedChild] = useState(null);
          const [searchTerm, setSearchTerm] = useState('');
          const [goals, setGoals] = useState(() => {
            try {
              const saved = localStorage.getItem('vbmapp-goals');
              return saved ? JSON.parse(saved) : sampleGoals;
            } catch (e) {
              return sampleGoals;
            }
          });
          const [children, setChildren] = useState(() => {
            try {
              const saved = localStorage.getItem('vbmapp-children');
              return saved ? JSON.parse(saved) : sampleChildren;
            } catch (e) {
              return sampleChildren;
            }
          });
          const [activities, setActivities] = useState(() => {
            try {
              const saved = localStorage.getItem('vbmapp-activities');
              if (saved) {
                const parsedData = JSON.parse(saved);
                // ê¸°ì¡´ ë°ì´í„°ì— subItemsê°€ ì—†ëŠ” ê²½ìš° ë¹ˆ ë°°ì—´ë¡œ ì´ˆê¸°í™”
                const migratedData = parsedData.map(activity => ({
                  ...activity,
                  subItems: activity.subItems || []
                }));
                return migratedData;
              }
              return sampleActivities;
            } catch (e) {
              return sampleActivities;
            }
          });
          const [therapists, setTherapists] = useState(sampleTherapists);
          const [expandedItems, setExpandedItems] = useState({});
          const [addingItemTo, setAddingItemTo] = useState(null);
          const [newItemName, setNewItemName] = useState('');
          const [uploadingGoals, setUploadingGoals] = useState(false);
          const [duplicateGoals, setDuplicateGoals] = useState([]);
          const [selectedCurriculum, setSelectedCurriculum] = useState('ALL'); // ì»¤ë¦¬í˜ëŸ¼ í•„í„°
          const [showCurriculumDetail, setShowCurriculumDetail] = useState(null); // ì»¤ë¦¬í˜ëŸ¼ ìƒì„¸ ë³´ê¸°

          useEffect(() => {
            try {
              localStorage.setItem('vbmapp-activities', JSON.stringify(activities));
            } catch (e) {
              console.log('localStorage ì €ìž¥ ì‹¤íŒ¨');
            }
          }, [activities]);

          useEffect(() => {
            try {
              localStorage.setItem('vbmapp-children', JSON.stringify(children));
            } catch (e) {
              console.log('localStorage ì €ìž¥ ì‹¤íŒ¨');
            }
          }, [children]);

          useEffect(() => {
            try {
              localStorage.setItem('vbmapp-goals', JSON.stringify(goals));
            } catch (e) {
              console.log('localStorage ì €ìž¥ ì‹¤íŒ¨');
            }
          }, [goals]);

          const getChildProgress = (childId) => {
            const childActivities = activities.filter(activity => activity.childId === childId);
            const total = childActivities.length;
            const completed = childActivities.filter(activity => activity.status === 'ì™„ë£Œ').length;
            const inProgress = childActivities.filter(activity => activity.status === 'ì§„í–‰ì¤‘').length;
            const onHold = childActivities.filter(activity => activity.status === 'ë³´ë¥˜').length;
            
            return { total, completed, inProgress, onHold, progressRate: total > 0 ? Math.round((completed / total) * 100) : 0 };
          };

          // ëŒ€ì‹œë³´ë“œìš© ì»¤ë¦¬í˜ëŸ¼ë³„ ì§„í–‰ìƒí™© ê³„ì‚° (ì „ì²´ ì»¤ë¦¬í˜ëŸ¼ ê¸°ì¤€)
          const getChildCurriculums = (childId) => {
            const childActivities = activities.filter(activity => activity.childId === childId);
            const curriculumData = {};
            
            // ë¨¼ì € ê° ì»¤ë¦¬í˜ëŸ¼ë³„ ì „ì²´ ëª©í‘œ ìˆ˜ ê³„ì‚°
            goals.forEach(goal => {
              if (!curriculumData[goal.curriculum]) {
                curriculumData[goal.curriculum] = {
                  total: 0,
                  completed: 0
                };
              }
              curriculumData[goal.curriculum].total++;
            });
            
            // ì™„ë£Œëœ ëª©í‘œ ê³„ì‚°
            childActivities.forEach(activity => {
              const goal = goals.find(g => g.id === activity.goalId);
              if (goal && activity.status === 'ì™„ë£Œ') {
                if (curriculumData[goal.curriculum]) {
                  curriculumData[goal.curriculum].completed++;
                }
              }
            });
            
            return curriculumData;
          };

          // ì»¤ë¦¬í˜ëŸ¼ë³„ ì˜ì—­ ë¶„ì„ (ì „ì²´ ì˜ì—­ ê¸°ì¤€)
          const getCurriculumAreaAnalysis = (childId, curriculum) => {
            const childActivities = activities.filter(activity => activity.childId === childId);
            const areaData = {};
            
            // ë¨¼ì € í•´ë‹¹ ì»¤ë¦¬í˜ëŸ¼ì˜ ëª¨ë“  ì˜ì—­ê³¼ ì „ì²´ ëª©í‘œ ìˆ˜ ê³„ì‚°
            goals
              .filter(goal => goal.curriculum === curriculum)
              .forEach(goal => {
                if (!areaData[goal.area]) {
                  areaData[goal.area] = {
                    total: 0,
                    completed: 0,
                    inProgress: 0,
                    onHold: 0
                  };
                }
                areaData[goal.area].total++;
              });
            
            // ì™„ë£Œëœ ëª©í‘œ ê³„ì‚°
            childActivities.forEach(activity => {
              const goal = goals.find(g => g.id === activity.goalId);
              if (goal && goal.curriculum === curriculum && areaData[goal.area]) {
                if (activity.status === 'ì™„ë£Œ') {
                  areaData[goal.area].completed++;
                } else if (activity.status === 'ì§„í–‰ì¤‘') {
                  areaData[goal.area].inProgress++;
                } else if (activity.status === 'ë³´ë¥˜') {
                  areaData[goal.area].onHold++;
                }
              }
            });
            
            return areaData;
          };

          const updateGoalStatus = (activityId, newStatus) => {
            setActivities(prev => prev.map(activity => 
              activity.id === activityId 
                ? { 
                    ...activity, 
                    status: newStatus,
                    completedDate: newStatus === 'ì™„ë£Œ' ? new Date().toISOString().split('T')[0] : ''
                  }
                : activity
            ));
          };

          const assignGoal = (childId, goalId) => {
            // ì´ë¯¸ í• ë‹¹ëœ ëª©í‘œì¸ì§€ í™•ì¸
            const isAlreadyAssigned = activities.some(activity => 
              activity.childId === childId && activity.goalId === goalId
            );
            
            if (isAlreadyAssigned) {
              alert('ì´ë¯¸ í• ë‹¹ëœ ëª©í‘œìž…ë‹ˆë‹¤.');
              return;
            }

            const newActivity = {
              id: `G${Date.now()}`,
              childId,
              goalId,
              startDate: new Date().toISOString().split('T')[0],
              completedDate: '',
              status: 'ì§„í–‰ì¤‘',
              memo: '',
              subItems: []
            };
            setActivities(prev => [...prev, newActivity]);
            // ì„±ê³µ íŒì—…ë§Œ ì œê±°
          };

          // ì„¸ë¶€ í•­ëª© ê´€ë ¨ í•¨ìˆ˜ë“¤
          const toggleExpanded = (activityId) => {
            setExpandedItems(prev => ({
              ...prev,
              [activityId]: !prev[activityId]
            }));
          };

          const addSubItem = (activityId) => {
            setAddingItemTo(activityId);
            setNewItemName('');
          };

          const saveNewSubItem = (activityId) => {
            if (newItemName && newItemName.trim()) {
              setActivities(prev => prev.map(activity => 
                activity.id === activityId 
                  ? {
                      ...activity,
                      subItems: [
                        ...(activity.subItems || []), // ê¸°ì¡´ subItemsê°€ undefinedì¼ ê²½ìš° ë¹ˆ ë°°ì—´ ì‚¬ìš©
                        {
                          id: `SI${Date.now()}`,
                          name: newItemName.trim(),
                          completed: false
                        }
                      ]
                    }
                  : activity
              ));
              setAddingItemTo(null);
              setNewItemName('');
            }
          };

          const cancelAddSubItem = () => {
            setAddingItemTo(null);
            setNewItemName('');
          };

          const toggleSubItem = (activityId, subItemId) => {
            setActivities(prev => prev.map(activity => 
              activity.id === activityId 
                ? {
                    ...activity,
                    subItems: (activity.subItems || []).map(item =>
                      item.id === subItemId
                        ? { ...item, completed: !item.completed }
                        : item
                    )
                  }
                : activity
            ));
          };

          const removeSubItem = (activityId, subItemId) => {
            setActivities(prev => prev.map(activity => 
              activity.id === activityId 
                ? {
                    ...activity,
                    subItems: (activity.subItems || []).filter(item => item.id !== subItemId)
                  }
                : activity
            ));
          };

          const getSubItemProgress = (subItems) => {
            if (!subItems || subItems.length === 0) return { completed: 0, total: 0, rate: 0 };
            const completed = subItems.filter(item => item.completed).length;
            const total = subItems.length;
            const rate = total > 0 ? Math.round((completed / total) * 100) : 0;
            return { completed, total, rate };
          };

          // ì—‘ì…€ ì—…ë¡œë“œ ì²˜ë¦¬ í•¨ìˆ˜
          const handleFileUpload = (event) => {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = (e) => {
              try {
                const data = new Uint8Array(e.target.result);
                const workbook = XLSX.read(data, { type: 'array' });
                const sheetName = workbook.SheetNames[0];
                const worksheet = workbook.Sheets[sheetName];
                const jsonData = XLSX.utils.sheet_to_json(worksheet);

                // ì—‘ì…€ ë°ì´í„°ë¥¼ ëª©í‘œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
                const newGoals = [];
                const duplicates = [];

                jsonData.forEach((row, index) => {
                  // í•„ìˆ˜ í•„ë“œ í™•ì¸ (ì»¤ë¦¬í˜ëŸ¼ ì¶”ê°€)
                  if (row['ì˜ì—­'] && row['í•­ëª©ë²ˆí˜¸'] && row['ëª©í‘œë‚´ìš©']) {
                    const goalId = `${String(row['ì»¤ë¦¬í˜ëŸ¼'] || 'CUSTOM').replace(/[^A-Za-z0-9]/g, '')}${String(Date.now() + index).slice(-3)}`;
                    const newGoal = {
                      id: goalId,
                      curriculum: String(row['ì»¤ë¦¬í˜ëŸ¼'] || 'CUSTOM').trim(),
                      area: String(row['ì˜ì—­']).trim(),
                      itemNumber: String(row['í•­ëª©ë²ˆí˜¸']).trim(),
                      content: String(row['ëª©í‘œë‚´ìš©']).trim()
                    };

                    // ì¤‘ë³µ ì²´í¬ (ì»¤ë¦¬í˜ëŸ¼ + ì˜ì—­ + í•­ëª©ë²ˆí˜¸ ì¡°í•©)
                    const isDuplicate = goals.some(existingGoal => 
                      existingGoal.curriculum === newGoal.curriculum &&
                      existingGoal.area === newGoal.area && 
                      existingGoal.itemNumber === newGoal.itemNumber
                    );

                    if (isDuplicate) {
                      duplicates.push({
                        ...newGoal,
                        reason: 'ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ëª©í‘œìž…ë‹ˆë‹¤'
                      });
                    } else {
                      newGoals.push(newGoal);
                    }
                  }
                });

                if (newGoals.length > 0) {
                  setGoals(prev => [...prev, ...newGoals]);
                  alert(`${newGoals.length}ê°œì˜ ìƒˆë¡œìš´ ëª©í‘œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!`);
                }

                if (duplicates.length > 0) {
                  setDuplicateGoals(duplicates);
                  alert(`${duplicates.length}ê°œì˜ ì¤‘ë³µ ëª©í‘œê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¤‘ë³µ ëª©ë¡ì„ í™•ì¸í•´ì£¼ì„¸ìš”.`);
                }

                if (newGoals.length === 0 && duplicates.length === 0) {
                  alert('ì˜¬ë°”ë¥¸ í˜•ì‹ì˜ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì»¤ë¦¬í˜ëŸ¼, ì˜ì—­, í•­ëª©ë²ˆí˜¸, ëª©í‘œë‚´ìš© ì—´ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                }

              } catch (error) {
                console.error('íŒŒì¼ ì²˜ë¦¬ ì˜¤ë¥˜:', error);
                alert('íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì—‘ì…€ íŒŒì¼ í˜•ì‹ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
              }
            };

            reader.readAsArrayBuffer(file);
            event.target.value = ''; // íŒŒì¼ ìž…ë ¥ ì´ˆê¸°í™”
          };

          // ì¤‘ë³µ ëª©í‘œ ì‚­ì œ
          const removeDuplicateGoal = (goalIndex) => {
            setDuplicateGoals(prev => prev.filter((_, index) => index !== goalIndex));
          };

          // ì¤‘ë³µ ëª©í‘œ ê°•ì œ ì¶”ê°€
          const forceAddDuplicateGoal = (goal) => {
            const newGoal = {
              ...goal,
              id: `VB${Date.now()}`,
              reason: undefined
            };
            setGoals(prev => [...prev, newGoal]);
            setDuplicateGoals(prev => prev.filter(g => g !== goal));
            alert('ëª©í‘œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
          };

          // ì—‘ì…€ ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜
          const downloadExcel = (data, filename, status) => {
            try {
              // ì›Œí¬ë¶ ìƒì„±
              const wb = XLSX.utils.book_new();
              
              // ë°ì´í„° ì¤€ë¹„
              const excelData = [];
              
              data.forEach(activity => {
                const goal = goals.find(g => g.id === activity.goalId);
                const baseData = {
                  'ì˜ì—­': goal?.area || '',
                  'í•­ëª©ë²ˆí˜¸': goal?.itemNumber || '',
                  'ëª©í‘œë‚´ìš©': goal?.content || '',
                  'ì‹œìž‘ì¼': activity.startDate || '',
                  'ì™„ë£Œì¼': activity.completedDate || '',
                  'ìƒíƒœ': activity.status || '',
                  'ë©”ëª¨': activity.memo || ''
                };

                if (activity.subItems && activity.subItems.length > 0) {
                  // ì„¸ë¶€ í•­ëª©ì´ ìžˆëŠ” ê²½ìš°
                  activity.subItems.forEach((item, index) => {
                    excelData.push({
                      ...baseData,
                      'ì„¸ë¶€í•­ëª©': item.name,
                      'ì„¸ë¶€ì™„ë£Œ': item.completed ? 'O' : 'X',
                      'ëª©í‘œë‚´ìš©': index === 0 ? baseData['ëª©í‘œë‚´ìš©'] : '', // ì²« ë²ˆì§¸ë§Œ ëª©í‘œë‚´ìš© í‘œì‹œ
                      'ì˜ì—­': index === 0 ? baseData['ì˜ì—­'] : '',
                      'í•­ëª©ë²ˆí˜¸': index === 0 ? baseData['í•­ëª©ë²ˆí˜¸'] : '',
                      'ì‹œìž‘ì¼': index === 0 ? baseData['ì‹œìž‘ì¼'] : '',
                      'ì™„ë£Œì¼': index === 0 ? baseData['ì™„ë£Œì¼'] : '',
                      'ìƒíƒœ': index === 0 ? baseData['ìƒíƒœ'] : '',
                      'ë©”ëª¨': index === 0 ? baseData['ë©”ëª¨'] : ''
                    });
                  });
                } else {
                  // ì„¸ë¶€ í•­ëª©ì´ ì—†ëŠ” ê²½ìš°
                  excelData.push({
                    ...baseData,
                    'ì„¸ë¶€í•­ëª©': '',
                    'ì„¸ë¶€ì™„ë£Œ': ''
                  });
                }
              });

              // ì›Œí¬ì‹œíŠ¸ ìƒì„±
              const ws = XLSX.utils.json_to_sheet(excelData);
              
              // ì»¬ëŸ¼ ë„ˆë¹„ ì„¤ì •
              ws['!cols'] = [
                { width: 10 }, // ì˜ì—­
                { width: 12 }, // í•­ëª©ë²ˆí˜¸
                { width: 50 }, // ëª©í‘œë‚´ìš©
                { width: 20 }, // ì„¸ë¶€í•­ëª©
                { width: 8 },  // ì„¸ë¶€ì™„ë£Œ
                { width: 12 }, // ì‹œìž‘ì¼
                { width: 12 }, // ì™„ë£Œì¼
                { width: 10 }, // ìƒíƒœ
                { width: 20 }  // ë©”ëª¨
              ];

              // ì›Œí¬ë¶ì— ì›Œí¬ì‹œíŠ¸ ì¶”ê°€
              XLSX.utils.book_append_sheet(wb, ws, status || 'Sheet1');
              
              // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
              XLSX.writeFile(wb, filename);
              
            } catch (error) {
              console.error('ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);
              alert('ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
          };

          // ì•„ë™ë³„ ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ
          const downloadChildReport = (childId) => {
            const child = children.find(c => c.id === childId);
            const childActivities = activities.filter(activity => activity.childId === childId);
            
            if (childActivities.length === 0) {
              alert('ë‹¤ìš´ë¡œë“œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
              return;
            }
            
            const today = new Date().toISOString().split('T')[0];
            const filename = `${child.name}_VB-MAPP_ì§„í–‰í˜„í™©_${today}.xlsx`;
            
            downloadExcel(childActivities, filename, 'ì „ì²´í˜„í™©');
          };

          // ìƒíƒœë³„ ë‹¤ìš´ë¡œë“œ
          const downloadByStatus = (childId, status) => {
            const child = children.find(c => c.id === childId);
            const childActivities = activities.filter(activity => 
              activity.childId === childId && activity.status === status
            );
            
            if (childActivities.length === 0) {
              alert('ë‹¤ìš´ë¡œë“œí•  ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
              return;
            }
            
            const today = new Date().toISOString().split('T')[0];
            const filename = `${child.name}_${status}_ëª©í‘œ_${today}.xlsx`;
            
            downloadExcel(childActivities, filename, status);
          };

          const DashboardTab = () => (
            React.createElement('div', { className: "space-y-6" },
              React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-3 gap-6" },
                children.map(child => {
                  const progress = getChildProgress(child.id);
                  const therapist = therapists.find(t => t.id === child.therapistId);
                  const childCurriculums = getChildCurriculums(child.id);
                  
                  return React.createElement('div', { 
                    key: child.id, 
                    className: "bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500" 
                  },
                    React.createElement('div', { className: "flex items-center justify-between mb-4" },
                      React.createElement('h3', { className: "text-lg font-semibold text-gray-800" }, child.name),
                      React.createElement('span', { className: "text-sm text-gray-500" }, `${child.gender} Â· ${child.birthDate}`)
                    ),
                    
                    // ì»¤ë¦¬í˜ëŸ¼ ë°°ì§€ í‘œì‹œ
                    Object.keys(childCurriculums).length > 0 && React.createElement('div', { className: "flex flex-wrap gap-1 mb-3" },
                      Object.entries(childCurriculums).map(([curriculum, data]) =>
                        React.createElement('span', { 
                          key: curriculum,
                          className: "text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded"
                        }, `${curriculum} (${data.completed}/${data.total})`)
                      )
                    ),
                    
                    React.createElement('div', { className: "space-y-3" },
                      React.createElement('div', null,
                        React.createElement('div', { className: "flex justify-between text-sm text-gray-600 mb-1" },
                          React.createElement('span', null, 'ì§„í–‰ë¥ '),
                          React.createElement('span', null, `${progress.progressRate}%`)
                        ),
                        React.createElement('div', { className: "w-full bg-gray-200 rounded-full h-2" },
                          React.createElement('div', { 
                            className: "bg-blue-500 h-2 rounded-full transition-all duration-300",
                            style: { width: `${progress.progressRate}%` }
                          })
                        )
                      ),
                      
                      React.createElement('div', { className: "grid grid-cols-3 gap-2 text-center text-xs" },
                        React.createElement('div', { className: "bg-green-50 rounded p-2" },
                          React.createElement('div', { className: "text-green-600 font-semibold" }, progress.completed),
                          React.createElement('div', { className: "text-green-500" }, 'ì™„ë£Œ')
                        ),
                        React.createElement('div', { className: "bg-blue-50 rounded p-2" },
                          React.createElement('div', { className: "text-blue-600 font-semibold" }, progress.inProgress),
                          React.createElement('div', { className: "text-blue-500" }, 'ì§„í–‰ì¤‘')
                        ),
                        React.createElement('div', { className: "bg-orange-50 rounded p-2" },
                          React.createElement('div', { className: "text-orange-600 font-semibold" }, progress.onHold),
                          React.createElement('div', { className: "text-orange-500" }, 'ë³´ë¥˜')
                        )
                      ),
                      
                      React.createElement('div', { className: "text-sm text-gray-500" }, 
                        `ë‹´ë‹¹: ${therapist?.name} Â· ì´ ${progress.total}ê°œ ëª©í‘œ`
                      ),
                      
                      React.createElement('div', { className: "flex space-x-2" },
                        React.createElement('button', {
                          onClick: () => {setSelectedChild(child); setCurrentTab('childDetail');},
                          className: "flex-1 bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition-colors"
                        }, 'ìƒì„¸ ê´€ë¦¬'),
                        React.createElement('button', {
                          onClick: () => downloadChildReport(child.id),
                          className: "bg-green-500 text-white p-2 rounded hover:bg-green-600 transition-colors",
                          title: "ì—‘ì…€ ë‹¤ìš´ë¡œë“œ"
                        }, React.createElement(Download, { className: "" }))
                      )
                    )
                  );
                })
              )
            )
          );

          const ChildDetailTab = () => {
            if (!selectedChild) return React.createElement('div', null, 'ì•„ë™ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
            
            const childActivities = activities.filter(activity => activity.childId === selectedChild.id);
            const assignedGoalIds = childActivities.map(activity => activity.goalId);
            
            // ëª¨ë“  ëª©í‘œì—ì„œ ì´ë¯¸ í• ë‹¹ëœ ê²ƒë§Œ ì œì™¸, ì»¤ë¦¬í˜ëŸ¼ í•„í„° ì ìš©
            let availableGoals = goals.filter(goal => !assignedGoalIds.includes(goal.id));
            
            // ì»¤ë¦¬í˜ëŸ¼ í•„í„°ë§
            if (selectedCurriculum !== 'ALL') {
              availableGoals = availableGoals.filter(goal => goal.curriculum === selectedCurriculum);
            }
            
            // ì‚¬ìš© ê°€ëŠ¥í•œ ì»¤ë¦¬í˜ëŸ¼ ëª©ë¡ ìƒì„±
            const availableCurriculums = [...new Set(goals.map(goal => goal.curriculum))].sort();
            
            // ì•„ë™ì´ ì‚¬ìš©í•˜ëŠ” ì»¤ë¦¬í˜ëŸ¼ë³„ ì§„í–‰ìƒí™© ê³„ì‚°
            const getCurriculumProgress = () => {
              const curriculumData = {};
              
              childActivities.forEach(activity => {
                const goal = goals.find(g => g.id === activity.goalId);
                if (goal) {
                  if (!curriculumData[goal.curriculum]) {
                    curriculumData[goal.curriculum] = {
                      total: 0,
                      completed: 0,
                      inProgress: 0,
                      onHold: 0
                    };
                  }
                  
                  curriculumData[goal.curriculum].total++;
                  if (activity.status === 'ì™„ë£Œ') {
                    curriculumData[goal.curriculum].completed++;
                  } else if (activity.status === 'ì§„í–‰ì¤‘') {
                    curriculumData[goal.curriculum].inProgress++;
                  } else if (activity.status === 'ë³´ë¥˜') {
                    curriculumData[goal.curriculum].onHold++;
                  }
                }
              });
              
              return curriculumData;
            };
            
            const curriculumProgress = getCurriculumProgress();
            
            return React.createElement('div', { className: "space-y-6" },
              React.createElement('div', { className: "bg-white rounded-lg shadow-md p-6" },
                React.createElement('div', { className: "flex items-center justify-between mb-6" },
                  React.createElement('div', { className: "flex space-x-2" },
                    React.createElement('button', {
                      onClick: () => downloadChildReport(selectedChild.id),
                      className: "bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors flex items-center space-x-2"
                    },
                      React.createElement(Download, { className: "" }),
                      React.createElement('span', null, 'ì „ì²´ ë³´ê³ ì„œ')
                    ),
                    React.createElement('button', {
                      onClick: () => setCurrentTab('dashboard'),
                      className: "text-blue-500 hover:text-blue-700"
                    }, 'â† ëŒì•„ê°€ê¸°')
                  )
                ),
                
                // ì»¤ë¦¬í˜ëŸ¼ë³„ ì§„í–‰ìƒí™© í‘œì‹œ
                Object.keys(curriculumProgress).length > 0 && React.createElement('div', { className: "mb-6" },
                  React.createElement('h3', { className: "text-lg font-semibold mb-3 text-gray-700" }, 'ì»¤ë¦¬í˜ëŸ¼ë³„ ì§„í–‰ìƒí™©'),
                  React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" },
                    Object.entries(curriculumProgress).map(([curriculum, data]) => {
                      const progressRate = data.total > 0 ? Math.round((data.completed / data.total) * 100) : 0;
                      return React.createElement('div', { 
                        key: curriculum, 
                        className: "bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow",
                        onClick: (e) => {
                          e.preventDefault();
                          e.stopPropagation();
                          console.log('Curriculum clicked:', curriculum, selectedChild.id);
                          setShowCurriculumDetail({ curriculum, childId: selectedChild.id });
                        }
                      },
                        React.createElement('div', { className: "flex items-center justify-between mb-2" },
                          React.createElement('span', { className: "font-medium text-blue-800" }, curriculum),
                          React.createElement('span', { className: "text-sm text-blue-600" }, `${progressRate}%`)
                        ),
                        React.createElement('div', { className: "w-full bg-blue-200 rounded-full h-2 mb-3" },
                          React.createElement('div', { 
                            className: "bg-blue-600 h-2 rounded-full transition-all duration-300",
                            style: { width: `${progressRate}%` }
                          })
                        ),
                        React.createElement('div', { className: "grid grid-cols-3 gap-2 text-xs text-center" },
                          React.createElement('div', { className: "bg-green-100 text-green-700 rounded py-1" },
                            React.createElement('div', { className: "font-semibold" }, data.completed),
                            React.createElement('div', null, 'ì™„ë£Œ')
                          ),
                          React.createElement('div', { className: "bg-blue-100 text-blue-700 rounded py-1" },
                            React.createElement('div', { className: "font-semibold" }, data.inProgress),
                            React.createElement('div', null, 'ì§„í–‰ì¤‘')
                          ),
                          React.createElement('div', { className: "bg-orange-100 text-orange-700 rounded py-1" },
                            React.createElement('div', { className: "font-semibold" }, data.onHold),
                            React.createElement('div', null, 'ë³´ë¥˜')
                          )
                        ),
                        React.createElement('div', { className: "mt-2 text-center text-xs text-gray-600" },
                          `ì´ ${data.total}ê°œ ëª©í‘œ`
                        ),
                        React.createElement('div', { className: "mt-2 text-center text-xs text-blue-500 font-medium" },
                          'ðŸ‘† í´ë¦­í•˜ì—¬ ì˜ì—­ë³„ ìƒì„¸ë³´ê¸°'
                        )
                      );
                    })
                  )
                ),
                
                React.createElement('div', { className: "grid grid-cols-2 md:grid-cols-4 gap-4 mb-6" },
                  React.createElement('div', { className: "text-center" },
                    React.createElement('div', { className: "text-2xl font-bold text-blue-600" }, childActivities.length),
                    React.createElement('div', { className: "text-sm text-gray-500" }, 'ì´ í• ë‹¹ ëª©í‘œ')
                  ),
                  React.createElement('div', { className: "text-center" },
                    React.createElement('div', { className: "text-2xl font-bold text-green-600" }, 
                      childActivities.filter(a => a.status === 'ì™„ë£Œ').length
                    ),
                    React.createElement('div', { className: "text-sm text-gray-500" }, 'ì™„ë£Œ')
                  ),
                  React.createElement('div', { className: "text-center" },
                    React.createElement('div', { className: "text-2xl font-bold text-blue-600" }, 
                      childActivities.filter(a => a.status === 'ì§„í–‰ì¤‘').length
                    ),
                    React.createElement('div', { className: "text-sm text-gray-500" }, 'ì§„í–‰ì¤‘')
                  ),
                  React.createElement('div', { className: "text-center" },
                    React.createElement('div', { className: "text-2xl font-bold text-orange-600" }, 
                      childActivities.filter(a => a.status === 'ë³´ë¥˜').length
                    ),
                    React.createElement('div', { className: "text-sm text-gray-500" }, 'ë³´ë¥˜')
                  )
                )
              ),

              // ì§„í–‰ì¤‘ì¸ ëª©í‘œë“¤
              React.createElement('div', { className: "bg-white rounded-lg shadow-md p-6" },
                React.createElement('div', { className: "flex justify-between items-center mb-4" },
                  React.createElement('h3', { className: "text-lg font-semibold" }, 'ì§„í–‰ì¤‘ì¸ ëª©í‘œ'),
                  React.createElement('button', {
                    onClick: () => downloadByStatus(selectedChild.id, 'ì§„í–‰ì¤‘'),
                    className: "bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 transition-colors flex items-center space-x-1"
                  },
                    React.createElement(Download, { className: "" }),
                    React.createElement('span', { className: "text-sm" }, 'ì—‘ì…€')
                  )
                ),
                React.createElement('div', { className: "space-y-3" },
                  childActivities
                    .filter(activity => activity.status === 'ì§„í–‰ì¤‘')
                    .map(activity => {
                      const goal = goals.find(g => g.id === activity.goalId);
                      const subProgress = getSubItemProgress(activity.subItems || []); // ì•ˆì „í•œ ì²˜ë¦¬
                      const isExpanded = expandedItems[activity.id];
                      
                      return React.createElement('div', { 
                        key: activity.id, 
                        className: "border rounded-lg p-4 bg-blue-50" 
                      },
                        React.createElement('div', { className: "flex justify-between items-start mb-2" },
                          React.createElement('div', { className: "flex-1" },
                            React.createElement('div', { className: "flex items-center space-x-2" },
                              React.createElement('div', { className: "font-medium text-blue-800" }, 
                                `${goal?.area} ${goal?.itemNumber}`
                              ),
                              subProgress.total > 0 && React.createElement('div', { 
                                className: "text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded" 
                              }, `${subProgress.completed}/${subProgress.total} ë‹¬ì„±`)
                            ),
                            React.createElement('div', { className: "text-sm text-gray-600 mt-1" }, goal?.content),
                            React.createElement('div', { className: "text-xs text-gray-500 mt-2" }, 
                              `ì‹œìž‘ì¼: ${activity.startDate}`
                            ),
                            React.createElement('div', { className: "flex items-center space-x-2 mt-2" },
                              React.createElement('button', {
                                onClick: () => toggleExpanded(activity.id),
                                className: "text-xs text-blue-600 hover:text-blue-800 flex items-center space-x-1"
                              },
                                isExpanded ? React.createElement(ChevronUp, { className: "" }) : React.createElement(ChevronDown, { className: "" }),
                                React.createElement('span', null, isExpanded ? 'ì„¸ë¶€í•­ëª© ì ‘ê¸°' : 'ì„¸ë¶€í•­ëª© íŽ¼ì¹˜ê¸°')
                              )
                            )
                          ),
                          React.createElement('div', { className: "flex space-x-2" },
                            React.createElement('button', {
                              onClick: () => updateGoalStatus(activity.id, 'ì™„ë£Œ'),
                              className: "bg-green-500 text-white p-2 rounded hover:bg-green-600",
                              title: "ì™„ë£Œ"
                            }, React.createElement(Check, { size: 16 })),
                            React.createElement('button', {
                              onClick: () => updateGoalStatus(activity.id, 'ë³´ë¥˜'),
                              className: "bg-orange-500 text-white p-2 rounded hover:bg-orange-600",
                              title: "ë³´ë¥˜"
                            }, React.createElement(Pause, { size: 16 }))
                          )
                        ),
                        
                        // ì„¸ë¶€ í•­ëª© ì„¹ì…˜
                        isExpanded && React.createElement('div', { className: "mt-4 pt-4 border-t border-blue-200" },
                          React.createElement('div', { className: "flex justify-end items-center mb-3" },
                            React.createElement('button', {
                              onClick: () => addSubItem(activity.id),
                              className: "bg-blue-500 text-white p-1 rounded hover:bg-blue-600 flex items-center space-x-1"
                            },
                              React.createElement(Plus, { className: "" }),
                              React.createElement('span', { className: "text-xs" }, 'í•­ëª© ì¶”ê°€')
                            )
                          ),
                          React.createElement('div', { className: "space-y-2" },
                            (activity.subItems && activity.subItems.length > 0)
                              ? activity.subItems.map(item =>
                                  React.createElement('div', { 
                                    key: item.id, 
                                    className: "flex items-center justify-between bg-white p-2 rounded border" 
                                  },
                                    React.createElement('div', { className: "flex items-center space-x-2" },
                                      React.createElement('input', {
                                        type: "checkbox",
                                        checked: item.completed,
                                        onChange: () => toggleSubItem(activity.id, item.id),
                                        className: "rounded"
                                      }),
                                      React.createElement('span', { 
                                        className: `text-sm ${item.completed ? 'line-through text-gray-500' : 'text-gray-800'}` 
                                      }, item.name)
                                    ),
                                    React.createElement('button', {
                                      onClick: () => removeSubItem(activity.id, item.id),
                                      className: "text-red-500 hover:text-red-700 text-xs"
                                    }, 'ì‚­ì œ')
                                  )
                                )
                              : React.createElement('div', { className: "text-xs text-gray-500 italic" }, 
                                  'ì„¸ë¶€ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤. "í•­ëª© ì¶”ê°€" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì¶”ê°€í•˜ì„¸ìš”.'
                                ),
                            
                            // ìƒˆ í•­ëª© ì¶”ê°€ ì¸í„°íŽ˜ì´ìŠ¤
                            addingItemTo === activity.id && React.createElement('div', { 
                              className: "bg-blue-50 p-3 rounded border border-blue-200" 
                            },
                              React.createElement('div', { className: "flex space-x-2" },
                                React.createElement('input', {
                                  type: "text",
                                  value: newItemName,
                                  onChange: (e) => setNewItemName(e.target.value),
                                  placeholder: "ìƒˆ ì„¸ë¶€ í•­ëª© ìž…ë ¥...",
                                  className: "flex-1 px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",
                                  autoFocus: true,
                                  onKeyDown: (e) => {
                                    if (e.key === 'Enter') {
                                      e.preventDefault();
                                      saveNewSubItem(activity.id);
                                    } else if (e.key === 'Escape') {
                                      e.preventDefault();
                                      cancelAddSubItem();
                                    }
                                  }
                                }),
                                React.createElement('button', {
                                  type: "button",
                                  onClick: (e) => {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    saveNewSubItem(activity.id);
                                  },
                                  className: "bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600"
                                }, 'ì €ìž¥'),
                                React.createElement('button', {
                                  type: "button",
                                  onClick: (e) => {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    cancelAddSubItem();
                                  },
                                  className: "bg-gray-300 text-gray-700 px-3 py-1 rounded text-xs hover:bg-gray-400"
                                }, 'ì·¨ì†Œ')
                              )
                            )
                          )
                        )
                      );
                    })
                )
              ),

              // ì™„ë£Œëœ ëª©í‘œë“¤
              React.createElement('div', { className: "bg-white rounded-lg shadow-md p-6" },
                React.createElement('div', { className: "flex justify-between items-center mb-4" },
                  React.createElement('h3', { className: "text-lg font-semibold" }, 'ì™„ë£Œëœ ëª©í‘œ'),
                  React.createElement('button', {
                    onClick: () => downloadByStatus(selectedChild.id, 'ì™„ë£Œ'),
                    className: "bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600 transition-colors flex items-center space-x-1"
                  },
                    React.createElement(Download, { className: "" }),
                    React.createElement('span', { className: "text-sm" }, 'ì—‘ì…€')
                  )
                ),
                React.createElement('div', { className: "space-y-3" },
                  childActivities
                    .filter(activity => activity.status === 'ì™„ë£Œ')
                    .map(activity => {
                      const goal = goals.find(g => g.id === activity.goalId);
                      return React.createElement('div', { 
                        key: activity.id, 
                        className: "border rounded-lg p-4 bg-green-50" 
                      },
                        React.createElement('div', { className: "flex justify-between items-start" },
                          React.createElement('div', { className: "flex-1" },
                            React.createElement('div', { className: "font-medium text-green-800" }, 
                              `${goal?.area} ${goal?.itemNumber}`
                            ),
                            React.createElement('div', { className: "text-sm text-gray-600 mt-1" }, goal?.content),
                            React.createElement('div', { className: "text-xs text-gray-500 mt-2" }, 
                              `ì™„ë£Œì¼: ${activity.completedDate}`
                            ),
                            activity.memo && React.createElement('div', { className: "text-xs text-gray-600 mt-1" }, 
                              `ë©”ëª¨: ${activity.memo}`
                            )
                          )
                        )
                      );
                    })
                )
              ),

              // ë³´ë¥˜ëœ ëª©í‘œë“¤
              React.createElement('div', { className: "bg-white rounded-lg shadow-md p-6" },
                React.createElement('div', { className: "flex justify-between items-center mb-4" },
                  React.createElement('h3', { className: "text-lg font-semibold" }, 'ë³´ë¥˜ëœ ëª©í‘œ'),
                  React.createElement('button', {
                    onClick: () => downloadByStatus(selectedChild.id, 'ë³´ë¥˜'),
                    className: "bg-orange-500 text-white px-3 py-1 rounded hover:bg-orange-600 transition-colors flex items-center space-x-1"
                  },
                    React.createElement(Download, { className: "" }),
                    React.createElement('span', { className: "text-sm" }, 'ì—‘ì…€')
                  )
                ),
                React.createElement('div', { className: "space-y-3" },
                  childActivities
                    .filter(activity => activity.status === 'ë³´ë¥˜')
                    .map(activity => {
                      const goal = goals.find(g => g.id === activity.goalId);
                      return React.createElement('div', { 
                        key: activity.id, 
                        className: "border rounded-lg p-4 bg-orange-50" 
                      },
                        React.createElement('div', { className: "flex justify-between items-start" },
                          React.createElement('div', { className: "flex-1" },
                            React.createElement('div', { className: "font-medium text-orange-800" }, 
                              `${goal?.area} ${goal?.itemNumber}`
                            ),
                            React.createElement('div', { className: "text-sm text-gray-600 mt-1" }, goal?.content),
                            React.createElement('div', { className: "text-xs text-gray-500 mt-2" }, 
                              `ì‹œìž‘ì¼: ${activity.startDate}`
                            ),
                            activity.memo && React.createElement('div', { className: "text-xs text-gray-600 mt-1" }, 
                              `ë³´ë¥˜ ì‚¬ìœ : ${activity.memo}`
                            )
                          ),
                          React.createElement('div', { className: "flex space-x-2" },
                            React.createElement('button', {
                              onClick: () => updateGoalStatus(activity.id, 'ì§„í–‰ì¤‘'),
                              className: "bg-blue-500 text-white p-2 rounded hover:bg-blue-600",
                              title: "ìž¬ì‹œìž‘"
                            }, React.createElement(Play, { size: 16 })),
                            React.createElement('button', {
                              onClick: () => updateGoalStatus(activity.id, 'ì™„ë£Œ'),
                              className: "bg-green-500 text-white p-2 rounded hover:bg-green-600",
                              title: "ì™„ë£Œ"
                            }, React.createElement(Check, { size: 16 }))
                          )
                        )
                      );
                    })
                )
              ),

              // ìƒˆ ëª©í‘œ í• ë‹¹
              React.createElement('div', { className: "bg-white rounded-lg shadow-md p-6" },
                React.createElement('div', { className: "flex justify-between items-center mb-4" },
                  React.createElement('h3', { className: "text-lg font-semibold" }, 'ìƒˆ ëª©í‘œ í• ë‹¹'),
                  React.createElement('div', { className: "flex items-center space-x-3" },
                    React.createElement('select', {
                      value: selectedCurriculum,
                      onChange: (e) => setSelectedCurriculum(e.target.value),
                      className: "px-3 py-1 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                    },
                      React.createElement('option', { value: 'ALL' }, 'ëª¨ë“  ì»¤ë¦¬í˜ëŸ¼'),
                      availableCurriculums.map(curriculum =>
                        React.createElement('option', { key: curriculum, value: curriculum }, curriculum)
                      )
                    ),
                    React.createElement('span', { className: "text-sm text-gray-500" }, 
                      `í• ë‹¹ ê°€ëŠ¥í•œ ëª©í‘œ: ${availableGoals.length}ê°œ`
                    )
                  )
                ),
                availableGoals.length > 0 
                  ? React.createElement('div', { className: "space-y-3 max-h-60 overflow-y-auto" },
                      availableGoals.map(goal =>
                        React.createElement('div', { 
                          key: goal.id, 
                          className: "border rounded-lg p-4 hover:bg-gray-50" 
                        },
                          React.createElement('div', { className: "flex justify-between items-start" },
                            React.createElement('div', { className: "flex-1" },
                              React.createElement('div', { className: "flex items-center space-x-2 mb-1" },
                                React.createElement('span', { className: "font-medium" }, 
                                  `${goal.area} ${goal.itemNumber}`
                                ),
                                React.createElement('span', { 
                                  className: "text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded" 
                                }, goal.curriculum)
                              ),
                              React.createElement('div', { className: "text-sm text-gray-600 mt-1" }, goal.content)
                            ),
                            React.createElement('button', {
                              onClick: () => assignGoal(selectedChild.id, goal.id),
                              className: "bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600"
                            }, 'í• ë‹¹')
                          )
                        )
                      )
                    )
                  : React.createElement('div', { className: "text-center py-8 text-gray-500" },
                      React.createElement('p', null, 'í• ë‹¹ ê°€ëŠ¥í•œ ìƒˆ ëª©í‘œê°€ ì—†ìŠµë‹ˆë‹¤.'),
                      React.createElement('p', { className: "text-sm mt-2" }, 
                        selectedCurriculum === 'ALL' 
                          ? 'ëª©í‘œ ëª©ë¡ íƒ­ì—ì„œ ìƒˆë¡œìš´ ëª©í‘œë¥¼ ì—…ë¡œë“œí•˜ê±°ë‚˜ ì¶”ê°€í•´ë³´ì„¸ìš”.' 
                          : `${selectedCurriculum} ì»¤ë¦¬í˜ëŸ¼ì˜ í• ë‹¹ ê°€ëŠ¥í•œ ëª©í‘œê°€ ì—†ìŠµë‹ˆë‹¤.`
                      )
                    )
              )
            );
          };

          // ì»¤ë¦¬í˜ëŸ¼ ìƒì„¸ ë¶„ì„ ëª¨ë‹¬
          const CurriculumDetailModal = () => {
            if (!showCurriculumDetail) return null;
            
            const { curriculum, childId } = showCurriculumDetail;
            const child = children.find(c => c.id === childId);
            const areaData = getCurriculumAreaAnalysis(childId, curriculum);
            
            return React.createElement('div', { 
              className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",
              onClick: (e) => {
                e.preventDefault();
                setShowCurriculumDetail(null);
              }
            },
              React.createElement('div', { 
                className: "bg-white rounded-xl p-8 max-w-5xl w-full m-4 max-h-[90vh] overflow-y-auto shadow-2xl",
                onClick: (e) => {
                  e.preventDefault();
                  e.stopPropagation();
                }
              },
                React.createElement('div', { className: "flex items-center justify-between mb-8 pb-4 border-b" },
                  React.createElement('div', null,
                    React.createElement('h2', { className: "text-2xl font-bold text-gray-800" }, 
                      `${child?.name} - ${curriculum}`
                    ),
                    React.createElement('p', { className: "text-gray-600 mt-1" }, 'ì˜ì—­ë³„ ë§ˆìŠ¤í„°ë¦¬ í˜„í™©')
                  ),
                  React.createElement('button', {
                    onClick: (e) => {
                      e.preventDefault();
                      e.stopPropagation();
                      setShowCurriculumDetail(null);
                    },
                    className: "text-gray-400 hover:text-gray-600 text-3xl font-light w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors"
                  }, 'Ã—')
                ),
                
                Object.keys(areaData).length > 0 
                  ? React.createElement('div', { className: "grid grid-cols-1 gap-6" },
                      Object.entries(areaData)
                        .sort(([, a], [, b]) => b.total - a.total)
                        .map(([area, data]) => {
                          const progressRate = data.total > 0 ? Math.round((data.completed / data.total) * 100) : 0;
                          
                          return React.createElement('div', { 
                            key: area,
                            className: "bg-gray-50 rounded-lg p-6 border border-gray-200"
                          },
                            React.createElement('div', { className: "flex items-center justify-between mb-4" },
                              React.createElement('h3', { className: "text-lg font-semibold text-gray-800" }, area),
                              React.createElement('div', { className: "text-right" },
                                React.createElement('span', { className: "text-2xl font-bold text-gray-800" }, 
                                  `${data.completed}/${data.total}`
                                ),
                                React.createElement('span', { className: "text-lg text-gray-600 ml-2" }, 
                                  `(${progressRate}%)`
                                )
                              )
                            ),
                            
                            React.createElement('div', { className: "relative mb-4" },
                              React.createElement('div', { 
                                className: "w-full bg-gray-200 rounded-full h-4"
                              },
                                React.createElement('div', { 
                                  className: `h-4 rounded-full transition-all duration-500 ${
                                    progressRate >= 80 ? 'bg-green-500' :
                                    progressRate >= 60 ? 'bg-blue-500' :
                                    progressRate >= 40 ? 'bg-yellow-500' :
                                    progressRate >= 20 ? 'bg-orange-500' : 'bg-red-400'
                                  }`,
                                  style: { width: `${progressRate}%` }
                                })
                              )
                            ),
                            
                            data.inProgress > 0 || data.onHold > 0 ? React.createElement('div', { className: "grid grid-cols-3 gap-3 text-sm" },
                              React.createElement('div', { className: "text-center text-gray-600" },
                                React.createElement('div', { className: "font-semibold" }, data.completed),
                                React.createElement('div', null, 'ì™„ë£Œ')
                              ),
                              React.createElement('div', { className: "text-center text-blue-600" },
                                React.createElement('div', { className: "font-semibold" }, data.inProgress),
                                React.createElement('div', null, 'ì§„í–‰ì¤‘')
                              ),
                              React.createElement('div', { className: "text-center text-orange-600" },
                                React.createElement('div', { className: "font-semibold" }, data.onHold),
                                React.createElement('div', null, 'ë³´ë¥˜')
                              )
                            ) : null
                          );
                        })
                    )
                  : React.createElement('div', { className: "text-center py-12 text-gray-500" },
                      React.createElement('p', { className: "text-xl mb-2" }, 'ì•„ì§ ëª©í‘œê°€ í• ë‹¹ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤'),
                      React.createElement('p', { className: "text-sm" }, 'ìƒˆ ëª©í‘œ í• ë‹¹ì—ì„œ ëª©í‘œë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”')
                    )
              )
            );
          };

          const GoalsTab = () => {
            const filteredGoals = goals.filter(goal => 
              goal.content.toLowerCase().includes(searchTerm.toLowerCase()) ||
              goal.area.toLowerCase().includes(searchTerm.toLowerCase()) ||
              goal.id.toLowerCase().includes(searchTerm.toLowerCase())
            );

            return React.createElement('div', { className: "space-y-6" },
              React.createElement('div', { className: "bg-white rounded-lg shadow-md p-6" },
                React.createElement('div', { className: "flex justify-between items-center mb-4" },
                  React.createElement('h2', { className: "text-xl font-bold text-gray-800" }, 'VB-MAPP ëª©í‘œ ëª©ë¡'),
                  React.createElement('div', { className: "flex items-center space-x-4" },
                    React.createElement('div', { className: "relative" },
                      React.createElement(Search, { 
                        className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400", 
                        size: 20 
                      }),
                      React.createElement('input', {
                        type: "text",
                        placeholder: "ëª©í‘œ ê²€ìƒ‰...",
                        className: "pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",
                        value: searchTerm,
                        onChange: (e) => setSearchTerm(e.target.value)
                      })
                    ),
                    React.createElement('label', {
                      className: "bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition-colors flex items-center space-x-2 cursor-pointer"
                    },
                      React.createElement(Upload, { className: "" }),
                      React.createElement('span', null, 'ì—‘ì…€ ì—…ë¡œë“œ'),
                      React.createElement('input', {
                        type: "file",
                        accept: ".xlsx,.xls",
                        onChange: handleFileUpload,
                        className: "hidden"
                      })
                    )
                  )
                ),
                
                React.createElement('div', { className: "space-y-3 max-h-96 overflow-y-auto" },
                  filteredGoals.map(goal =>
                    React.createElement('div', { 
                      key: goal.id, 
                      className: "border rounded-lg p-4 hover:bg-gray-50" 
                    },
                      React.createElement('div', { className: "flex justify-between items-start" },
                        React.createElement('div', { className: "flex-1" },
                          React.createElement('div', { className: "flex items-center space-x-2 mb-1" },
                            React.createElement('div', { className: "font-medium text-blue-800" }, 
                              `${goal.area} ${goal.itemNumber}`
                            ),
                            React.createElement('span', { 
                              className: "text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded" 
                            }, goal.curriculum)
                          ),
                          React.createElement('div', { className: "text-sm text-gray-600 mt-1" }, goal.content)
                        )
                      )
                    )
                  )
                )
              ),

              // ì¤‘ë³µ ëª©í‘œ í™•ì¸ ì„¹ì…˜
              duplicateGoals.length > 0 && React.createElement('div', { className: "bg-white rounded-lg shadow-md p-6" },
                React.createElement('h3', { className: "text-lg font-semibold text-orange-600 mb-4" }, 
                  `ì¤‘ë³µ ëª©í‘œ í™•ì¸ (${duplicateGoals.length}ê°œ)`
                ),
                React.createElement('div', { className: "space-y-3" },
                  duplicateGoals.map((goal, index) =>
                    React.createElement('div', { 
                      key: index, 
                      className: "border border-orange-200 rounded-lg p-4 bg-orange-50" 
                    },
                      React.createElement('div', { className: "flex justify-between items-start" },
                        React.createElement('div', { className: "flex-1" },
                          React.createElement('div', { className: "font-medium text-orange-800" }, 
                            `${goal.area} ${goal.itemNumber}`
                          ),
                          React.createElement('div', { className: "text-sm text-gray-600 mt-1" }, goal.content),
                          React.createElement('div', { className: "text-xs text-orange-600 mt-2" }, goal.reason)
                        ),
                        React.createElement('div', { className: "flex space-x-2" },
                          React.createElement('button', {
                            onClick: () => forceAddDuplicateGoal(goal),
                            className: "bg-orange-500 text-white px-3 py-1 rounded text-xs hover:bg-orange-600"
                          }, 'ê°•ì œ ì¶”ê°€'),
                          React.createElement('button', {
                            onClick: () => removeDuplicateGoal(index),
                            className: "bg-gray-500 text-white px-3 py-1 rounded text-xs hover:bg-gray-600"
                          }, 'ì œê±°')
                        )
                      )
                    )
                  )
                )
              )
            );
          };

          return React.createElement('div', { className: "min-h-screen bg-gray-100" },
            React.createElement('header', { className: "bg-white shadow-sm border-b" },
              React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" },
                React.createElement('div', { className: "flex justify-between items-center h-16" },
                  React.createElement('div', { className: "flex items-center" },
                    React.createElement(Target, { className: "h-8 w-8 text-blue-600 mr-3" }),
                    React.createElement('h1', { className: "text-xl font-bold text-gray-900" }, 'VB-MAPP ê´€ë¦¬ ì‹œìŠ¤í…œ')
                  ),
                  React.createElement('div', { className: "flex items-center space-x-4" },
                    React.createElement('span', { className: "text-sm text-gray-600" }, 'ê¹€í•´ë¯¸ ì¹˜ë£Œì‚¬'),
                    React.createElement(User, { className: "h-6 w-6 text-gray-600" })
                  )
                )
              )
            ),

            React.createElement('nav', { className: "bg-white border-b" },
              React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" },
                React.createElement('div', { className: "flex space-x-8" },
                  React.createElement('button', {
                    onClick: () => setCurrentTab('dashboard'),
                    className: `py-4 px-2 border-b-2 font-medium text-sm ${
                      currentTab === 'dashboard' 
                        ? 'border-blue-500 text-blue-600' 
                        : 'border-transparent text-gray-500 hover:text-gray-700'
                    }`
                  },
                    React.createElement(BarChart3, { className: "inline w-4 h-4 mr-2" }),
                    'ëŒ€ì‹œë³´ë“œ'
                  ),
                  React.createElement('button', {
                    onClick: () => setCurrentTab('goals'),
                    className: `py-4 px-2 border-b-2 font-medium text-sm ${
                      currentTab === 'goals' 
                        ? 'border-blue-500 text-blue-600' 
                        : 'border-transparent text-gray-500 hover:text-gray-700'
                    }`
                  },
                    React.createElement(Target, { className: "inline w-4 h-4 mr-2" }),
                    'ëª©í‘œ ëª©ë¡'
                  ),
                  selectedChild && currentTab === 'childDetail' && React.createElement('button', {
                    className: "py-4 px-2 border-b-2 border-blue-500 text-blue-600 font-medium text-sm"
                  },
                    React.createElement(Users, { className: "inline w-4 h-4 mr-2" }),
                    `${selectedChild.name} ê´€ë¦¬`
                  )
                )
              )
            ),

            React.createElement('main', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" },
              currentTab === 'dashboard' && DashboardTab(),
              currentTab === 'goals' && GoalsTab(),
              currentTab === 'childDetail' && ChildDetailTab()
            ),

            // ì»¤ë¦¬í˜ëŸ¼ ìƒì„¸ ë¶„ì„ ëª¨ë‹¬
            CurriculumDetailModal()
          );
        };

        // React ì•± ë Œë”ë§
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(VBMAPPApp));
    </script>
</body>
</html>
